<%= form_with model: [:dashboard, project], class: "space-y-6" do |f| %>
  <% if project.errors.any? %>
    <div class="alert alert-error">
      <svg class="w-5 h-5 flex-shrink-0" style="color: var(--color-error-500);" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
      </svg>
      <div>
        <p class="font-medium">Please fix the following errors:</p>
        <ul class="mt-1 list-disc list-inside text-sm">
          <% project.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>

  <div class="card">
    <div class="card-body space-y-6">
      <!-- Project Name -->
      <div>
        <label for="project_name" class="label">Project Name</label>
        <%= f.text_field :name,
            class: "input",
            placeholder: "My Application",
            autofocus: true %>
        <p class="text-xs mt-1.5" style="color: var(--color-ink-400);">
          A friendly name to identify this project
        </p>
      </div>

      <!-- Platform Project ID -->
      <div>
        <label for="project_platform_project_id" class="label">
          Platform Project ID
          <span class="font-normal" style="color: var(--color-ink-400);">(optional)</span>
        </label>
        <%= f.text_field :platform_project_id,
            class: "input font-mono text-sm",
            placeholder: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" %>
        <p class="text-xs mt-1.5" style="color: var(--color-ink-400);">
          Link to a project in Brainz Lab Platform for unified billing and access control
        </p>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="card-footer flex justify-end gap-3">
      <%= link_to (project.persisted? ? dashboard_project_path(project) : dashboard_projects_path), class: "btn-secondary" do %>
        Cancel
      <% end %>
      <%= f.submit project.persisted? ? "Save Changes" : "Create Project", class: "btn-primary cursor-pointer" %>
    </div>
  </div>
<% end %>
